<h2 class="text-2xl mb-5 font-bold">AJOUTER UNE DEMARCHE</h2>
<form *ngIf="form" [formGroup]="form" class="container studadvice">
    <div class="item-form">
        <app-input
                [class]="'mat-tooltip-trigger ng-valid ng-touched ng-dirty ng-pristine'"
                [clearable]="true"
                [errorMessage]="'le titre est obligatoire'"
                [hideLabel]="false"
                [idInput]="'title'"
                [id]="'title'"
                [inputFormControl]="titleFormControl"
                [maxLength]="'10'"
                [minLength]="'5'"
                [nameInput]="'Titre'"
                [placeholder]="'Titre de la démarche'"
                [required]="true"
                [type]="'text'"
        >
            <app-input-label class="font-bold">Titre</app-input-label>
        </app-input>
    </div>
    <div class="item-form">
        <app-input
                [class]="'mat-tooltip-trigger ng-valid ng-touched ng-dirty ng-pristine'"
                [clearable]="true"
                [errorMessage]="'la description est obligatoire'"
                [hideLabel]="false"
                [idInput]="'description'"
                [id]="'description'"
                [inputFormControl]="descriptionFormControl"
                [nameInput]="'Description'"
                [placeholder]="'Description de la démarche'"
                [required]="true"
                [type]="'textarea'"
        >
            <app-input-label class="font-bold">Description</app-input-label>
        </app-input>
    </div>
    <div class="item-form">
        <app-input-select
                [bindLabel]="'label'"
                [bindValue]="'label'"
                [class]="'mat-tooltip-trigger ng-valid ng-touched ng-dirty ng-pristine'"
                [clearable]="true"
                [errorMessage]="'liste de documents obligatoire'"
                [id]="'documents'"
                [inputFormControl]="documentsFormControl"
                [multiple]="true"
                [options]="options"
                [required]="false"
                [hasLabel]="true"
        >
            <label class="font-bold">Documents</label>
        </app-input-select>
    </div>
    <div formArrayName="etapes">
        <div *ngFor="let etape of etapesControls; let i = index">
            <div [formGroupName]="i">
                <div class="item-form">
                    <app-input
                            [class]="'mat-tooltip-trigger ng-valid ng-touched ng-dirty ng-pristine'"
                            [idInput]="'{{i}}'"
                            [id]="i"
                            [inputFormControl]="etape.get('titre')"
                            [nameInput]="'Titre Etape ' + (i+1)"
                            [placeholder]="'Titre de l\'étape ' + (i+1)"
                            [required]="false"
                            [type]="'text'"
                            formControlName="title">
                        <app-input-label class="font-bold">Titre Etape {{i + 1}}</app-input-label>
                    </app-input>
                </div>
                <div class="item-form">
                    <app-input
                            [class]="'mat-tooltip-trigger ng-valid ng-touched ng-dirty ng-pristine'"
                            [idInput]="'{{i}}'"
                            [id]="i"
                            [inputFormControl]="etape.get('description')"
                            [nameInput]="'Description Etape ' + (i+1)"
                            [placeholder]="'Description de l\'étape ' + (i+1)"
                            [required]="false"
                            [type]="'textarea'"
                            formControlName="description">
                        <app-input-label class="font-bold">Description Etape {{i + 1}}</app-input-label>
                    </app-input>
                </div>
                <button (click)="supprimerEtape(i)" type="button">Supprimer Etape</button>
            </div>
        </div>
    </div>

    <button (click)="ajouterEtape()" type="button">Ajouter une étape</button>
</form>